<div i18n:domain="cpskin" tal:attributes="id view/field" tal:condition="view/available">
    <ul tal:attributes="id string:ul-${view/field}">
        <li tal:repeat="contact view/get_contacts" class="related-contact">

            <h4 tal:condition="python: view.in_fields('title')" tal:content="contact/title" />
            <div class="coordinates"
                tal:condition="view/has_address"
                tal:define="street contact/street;
                            number contact/number;
                            zip_code contact/zip_code;
                            city contact/city">
                <div class="street">
                    <span class="streetname" tal:condition="street" tal:content="street" />
                    <span class="streetcomma" tal:condition="street">, </span>
                    <span class="streetnumber" tal:condition="number" tal:content="number" />
                </div>
                <div class="city">
                    <span class="zipcode" tal:condition="zip_code" tal:content="zip_code" />
                    <span class="cityname" tal:condition="city" tal:content="city" />
                </div>

                <tal:block tal:repeat="field view/fields_without_address">
                    <tal:define tal:define="data python:view.get_field(contact, field)">
                        <div tal:condition="data" tal:attributes="class string:${field}">
                             <div tal:replace="structure data" />
                         </div>
                    </tal:define>
                </tal:block>
            </div>

        </li>
    </ul>
</div>
